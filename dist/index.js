!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=1)}([function(e,t){e.exports=wp.i18n},function(e,t,n){n(2),n(9),e.exports=n(10)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(3),i=n(4),s=n(5),a=n(6),c=n(7),u=n.n(c),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var p=function(e){var t=this,n={postType:e,serverSideRef:Object(o.createRef)(),containerRef:Object(o.createRef)(),masonryElement:null,sidebarOpen:!1,observer:new MutationObserver(function(e){e.forEach(function(e){e.target.querySelector(".js-masonry")&&t.initMasonry()})}),initMasonry:function(){if(this.serverSideRef.current){var e=Object(o.findDOMNode)(this.serverSideRef.current),t=jQuery(e).find(".js-masonry");if(t.length&&!t.data("masonry")){var n=t.data("masonry-options")||{};window.setTimeout(function(){return t.masonry(n)},1e3),this.masonryElement=t}}},reflowMasonry:function(){this.masonryElement&&this.masonryElement.masonry("layout")},componentDidMount:function(){var e=Object(o.findDOMNode)(this.containerRef.current);this.observer.observe(e,{childList:!0}),this.initMasonry()},subscribe:function(){var e=Object(a.select)("core/edit-post"),t=e&&!!e.getActiveGeneralSidebarName();t!==this.sidebarOpen&&(window.setTimeout(this.reflowMasonry,200),this.sidebarOpen=t)}};return Object(a.subscribe)(n.subscribe.bind(n)),n.initMasonry=n.initMasonry.bind(n),n.reflowMasonry=n.reflowMasonry.bind(n),Object(a.withSelect)(function(e){return{categoriesList:(0,e("core").getEntityRecords)("taxonomy","category",{per_page:100})}})(function(e){var t=e.attributes,n=e.setAttributes,o=e.isSelected,a=e.categoriesList,c=t.title,p=t.archiveLinkText,f=t.columns,b=t.layout,d=t.order,g=t.orderBy,y=t.postsToShow,m=t.categories,h=[{value:"grid",label:Object(r.__)("grid","wp-gutenberg-postlist")},{value:"masonry",label:Object(r.__)("masonry","wp-gutenberg-postlist")},{value:"featured",label:Object(r.__)("featured","wp-gutenberg-postlist")}],v=React.createElement(s.InspectorControls,null,React.createElement(i.QueryControls,l({order:d,orderBy:g},{numberOfItems:y,categoriesList:a||[],selectedCategoryId:m,onOrderChange:function(e){return n({order:e})},onOrderByChange:function(e){return n({orderBy:e})},onNumberOfItemsChange:function(e){return n({postsToShow:e})},onCategoryChange:function(e){return n({categories:""!==e?e:void 0})}})),React.createElement(i.SelectControl,{key:"layout-input",label:Object(r.__)("Layout","wp-gutenberg-postlist"),value:b,onChange:function(e){return n({layout:e})},options:h}),React.createElement(i.RangeControl,{key:"columns-input",label:Object(r.__)("Columns","wp-gutenberg-postlist"),value:f,onChange:function(e){return n({columns:e})},min:1,max:4}));return React.createElement("div",{ref:this.containerRef},v,c||o?React.createElement(s.RichText,{key:"title-input",format:"string",tagName:"h2",keepPlaceholderOnFocus:"true",autocompleters:[],style:{textAlign:"center"},value:c,onChange:function(e){return n({title:e})},placeholder:Object(r.__)("Write heading…","wp-gutenberg-postlist")}):null,React.createElement(u.a,{block:"genero/postlist-"+this.postType,attributes:{columns:f,layout:b,order:d,orderBy:g,postsToShow:y,categories:m},ref:this.serverSideRef}),p||o?React.createElement("div",{className:"wp-block-genero-postlist__archivelink_wrapper"},React.createElement(s.RichText,{key:"archivelink-input",format:"string",tagName:"div",className:"wp-block-genero-postlist__archivelink",keepPlaceholderOnFocus:!0,value:p,onChange:function(e){return n({archiveLinkText:e})},placeholder:Object(r.__)("Link to archive…","wp-gutenberg-postlist")})):null)}.bind(n))},f=n(8),b=window._gutenberg_postlist.posttypes;Object.keys(b).forEach(function(e){var t=b[e];Object(f.registerBlockType)("genero/postlist-"+e,{title:Object(r.sprintf)(Object(r.__)("Listing: %s","wp-gutenberg-postlist"),t.label),icon:t.icon||"admin-page",category:"embed",supports:Object.assign({align:["center","wide","full"]},t.supports||{}),keywords:[Object(r.__)("list","wp-gutenberg-postlist")].concat(t.keywords||[]),edit:p(e),save:function(){return null}})})},function(e,t){e.exports=wp.element},function(e,t){e.exports=wp.components},function(e,t){e.exports=wp.blockEditor},function(e,t){e.exports=wp.data},function(e,t){e.exports=wp.serverSideRender},function(e,t){e.exports=wp.blocks},function(e,t){},function(e,t){}]);