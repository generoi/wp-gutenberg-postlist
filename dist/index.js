!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=1)}([function(e,t){e.exports=wp.i18n},function(e,t,n){n(2),n(11),e.exports=n(12)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(4),i=n.n(o),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a),s(t,[{key:"componentDidUpdate",value:function(e){Object(r.isEqual)(e,this.props)||(this.fetch(this.props),this.props.onUpdate&&this.props.onUpdate())}}]),t}(),c=n(0),u=n(5),l=n(6),p=n(7),f=n(8),b=(n(9),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});var d=function(e){var t={postType:e,serverSideRef:Object(u.createRef)(),masonryElement:null,sidebarOpen:!1,initMasonry:function(){if(this.serverSideRef.current){var e=Object(u.findDOMNode)(this.serverSideRef.current),t=jQuery(e).find(".js-masonry");if(t.length&&!t.data("masonry")){var n=t.data("masonry-options")||{};window.setTimeout(function(){return t.masonry(n)},1e3),this.masonryElement=t}}},reflowMasonry:function(){this.masonryElement&&this.masonryElement.masonry("layout")},subscribe:function(){var e=Object(f.select)("core/edit-post"),t=e&&!!e.getActiveGeneralSidebarName();t!==this.sidebarOpen&&(window.setTimeout(this.reflowMasonry,200),this.sidebarOpen=t)}};return Object(f.subscribe)(t.subscribe.bind(t)),t.initMasonry=t.initMasonry.bind(t),t.reflowMasonry=t.reflowMasonry.bind(t),Object(f.withSelect)(function(e){return{categoriesList:(0,e("core").getEntityRecords)("taxonomy","category",{per_page:100})}})(function(e){var t=e.attributes,n=e.setAttributes,r=e.isSelected,o=e.categoriesList,i=t.title,s=t.archiveLinkText,f=t.columns,d=t.layout,y=t.order,g=t.orderBy,h=t.postsToShow,m=t.categories,v=[{value:"grid",label:Object(c.__)("grid","wp-gutenberg-postlist")},{value:"masonry",label:Object(c.__)("masonry","wp-gutenberg-postlist")},{value:"featured",label:Object(c.__)("featured","wp-gutenberg-postlist")}],w=React.createElement(p.InspectorControls,null,React.createElement(l.QueryControls,b({order:y,orderBy:g},{numberOfItems:h,categoriesList:o,selectedCategoryId:m,onOrderChange:function(e){return n({order:e})},onOrderByChange:function(e){return n({orderBy:e})},onNumberOfItemsChange:function(e){return n({postsToShow:e})},onCategoryChange:function(e){return n({categories:""!==e?e:void 0})}})),React.createElement(l.SelectControl,{key:"layout-input",label:Object(c.__)("Layout","wp-gutenberg-postlist"),value:d,onChange:function(e){return n({layout:e})},options:v}),React.createElement(l.RangeControl,{key:"columns-input",label:Object(c.__)("Columns","wp-gutenberg-postlist"),value:f,onChange:function(e){return n({columns:e})},min:1,max:4}));return React.createElement(u.Fragment,null,w,i||r?React.createElement(p.RichText,{key:"title-input",format:"string",tagName:"h2",keepPlaceholderOnFocus:"true",autocompleters:[],style:{textAlign:"center"},value:i,onChange:function(e){return n({title:e})},placeholder:Object(c.__)("Write heading…","wp-gutenberg-postlist")}):null,React.createElement(a,{block:"genero/postlist-"+this.postType,attributes:{columns:f,layout:d,order:y,orderBy:g,postsToShow:h,categories:m},ref:this.serverSideRef,onUpdate:this.initMasonry}),s||r?React.createElement("div",{className:"wp-block-genero-postlist__archivelink_wrapper"},React.createElement(p.RichText,{key:"archivelink-input",format:"string",tagName:"div",className:"wp-block-genero-postlist__archivelink",keepPlaceholderOnFocus:!0,value:s,onChange:function(e){return n({archiveLinkText:e})},placeholder:Object(c.__)("Link to archive…","wp-gutenberg-postlist")})):null)}.bind(t))},y=n(10),g=window._gutenberg_postlist.posttypes;Object.keys(g).forEach(function(e){var t=g[e];Object(y.registerBlockType)("genero/postlist-"+e,{title:Object(c.sprintf)(Object(c.__)("Listing: %s","wp-gutenberg-postlist"),t.label),icon:t.icon||"admin-page",category:"embed",supports:Object.assign({align:["center","wide","full"]},t.supports||{}),keywords:[Object(c.__)("list","wp-gutenberg-postlist")].concat(t.keywords||[]),edit:d(e),save:function(){return null}})})},function(e,t){e.exports=lodash},function(e,t){e.exports=wp.serverSideRender},function(e,t){e.exports=wp.element},function(e,t){e.exports=wp.components},function(e,t){e.exports=wp.blockEditor},function(e,t){e.exports=wp.data},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e){return decodeURIComponent(e.replace(/\+/g," "))}t.stringify=function(e,t){t=t||"";var n=[];for(var o in"string"!=typeof t&&(t="?"),e)r.call(e,o)&&n.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return n.length?t+n.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=o(t[1]),s=o(t[2]);i in r||(r[i]=s)}return r}},function(e,t){e.exports=wp.blocks},function(e,t){},function(e,t){}]);